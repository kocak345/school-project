<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navigation Menu -->
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="services.html">Services</a></li>
            <li><a href="contact.html">Contact</a></li>
            <ul class="right">
                <li><a href="login.html">Login</a></li>
                <li><a href="register.html">Register</a></li>
            </ul>
        </ul>
    </nav>

    <!-- Login Form -->
    <div class="login-container">
        <h2>Login</h2>
        <form id="login-form">
  <label for="email">Email:</label>
  <input type="email" id="email" name="email" required placeholder="Enter your email">
  <br><br>
  <label for="password">Password:</label>
  <input type="password" id="password" name="password" required placeholder="Enter your password">
  <br><br>
  <button type="button" onclick="handleLogin()">Login</button>
</form>

<script>
  // Initialize users in localStorage
  (function initializeTeachers() {
  if (!localStorage.getItem("users")) {
    const predefinedTeachers = [
      { email: "jonathanvtambunan2@gmail.com", password: "jojo140210", role: "teacher" },
      { email: "student@example.com", password: "student123", role: "student" }
    ];
    localStorage.setItem("users", JSON.stringify(predefinedTeachers));
  }
})();
  function handleLogin() {
  console.log("Login button clicked");

  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value;

  console.log("Email entered:", email);
  console.log("Password entered:", password);

  let users = JSON.parse(localStorage.getItem("users")) || [];
  console.log("Users from localStorage:", users);

  const user = users.find(
    u => u.email.toLowerCase() === email.toLowerCase() && u.password === password
  );

  if (!user) {
    alert("Invalid email or password!");
    return;
  }

  console.log("User found:", user);

  if (user.role === "teacher") {
    console.log("Redirecting to teacher dashboard...");
    window.location.href = "dashboard.html";
  } else if (user.role === "student") {
    console.log("Redirecting to student dashboard...");
    window.location.href = "student-dashboard.html";
  }
}
</script>
</body>
</html>